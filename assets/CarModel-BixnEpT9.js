import{j as n,C as b,u as S,a as L,b as P}from"./three-vendor-D0rnrX5w.js";import{r as s}from"./react-router-CCeBmmR7.js";import"./react-vendor-DJG_os-6.js";function R(){"use no memo";const o=s.useRef(),[a,c]=s.useState(!1),[i,u]=s.useState([0,0]),t=s.useRef([0,0]),[d,x]=s.useState(!1),{gl:h}=S(),{scene:M}=L("/RedBull_2022.glb");s.useEffect(()=>{const e=()=>{x(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const m=e=>{e.preventDefault(),e.stopPropagation(),c(!0),u([e.clientX,e.clientY]),t.current=[0,0]},p=e=>{if(!a)return;e.preventDefault(),e.stopPropagation();const r=(e.clientX-i[0])*.01,l=(e.clientY-i[1])*.01;o.current&&(o.current.rotation.y+=r,o.current.rotation.x+=l,t.current=[r,l]),u([e.clientX,e.clientY])},f=()=>{c(!1)},v=e=>{if(e.preventDefault(),e.stopPropagation(),e.touches.length===1){const r=e.touches[0];c(!0),u([r.clientX,r.clientY]),t.current=[0,0]}},w=e=>{if(!a||e.touches.length!==1)return;e.preventDefault(),e.stopPropagation();const r=e.touches[0],l=(r.clientX-i[0])*.01,E=(r.clientY-i[1])*.01;o.current&&(o.current.rotation.y+=l,o.current.rotation.x+=E,t.current=[l,E]),u([r.clientX,r.clientY])},g=()=>{c(!1)};s.useEffect(()=>{const e=h.domElement;return e.addEventListener("mousedown",m),window.addEventListener("mousemove",p),window.addEventListener("mouseup",f),e.addEventListener("touchstart",v,{passive:!1}),e.addEventListener("touchmove",w,{passive:!1}),e.addEventListener("touchend",g),()=>{e.removeEventListener("mousedown",m),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",f),e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",w),e.removeEventListener("touchend",g)}},[a,i,h]),P(()=>{!a&&o.current&&(o.current.rotation.y+=t.current[0],o.current.rotation.x+=t.current[1],t.current[0]*=.95,t.current[1]*=.95)});const j=d?[0,-1.5,-.4]:[1,0,0],y=d?[0,Math.PI,0]:[0,Math.PI/2,0];return n.jsx("group",{ref:o,position:j,castShadow:!0,receiveShadow:!0,children:n.jsx("primitive",{object:M,scale:1,rotation:y})})}function z(){"use no memo";const[o,a]=s.useState(!1),[c,i]=s.useState(0);s.useEffect(()=>{i(t=>t+1)},[]),s.useEffect(()=>{const t=()=>{a(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const u=o?[0,8,0]:[0,5,0];return n.jsx("div",{className:"fixed inset-0 z-10",style:{pointerEvents:"none",mixBlendMode:"normal"},children:n.jsxs(b,{shadows:!0,className:"w-full h-full",style:{width:"100%",height:"100%",pointerEvents:"auto",background:"transparent"},camera:{position:u,fov:75},gl:{alpha:!0},children:[n.jsxs("mesh",{position:[0,0,15],rotation:[0,0,0],children:[n.jsx("planeGeometry",{args:[100,100]}),n.jsx("meshLambertMaterial",{color:"white",transparent:!0,opacity:0,side:2})]}),n.jsx("hemisphereLight",{intensity:.6,skyColor:"white",groundColor:"gray"}),n.jsx("directionalLight",{position:[5,10,8],intensity:1.2,castShadow:!0,"shadow-mapSize":[2048,2048],"target-position":[0,0,0]}),n.jsx("directionalLight",{position:[-8,5,5],intensity:.8,castShadow:!1}),n.jsx("directionalLight",{position:[0,8,-10],intensity:.6,castShadow:!1}),n.jsx(R,{})]},c)})}L.preload("/RedBull_2022.glb");export{z as default};
